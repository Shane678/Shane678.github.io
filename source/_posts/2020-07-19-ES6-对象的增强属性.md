---
title: ES6 对象的增强属性
tags:
  - JavaScript
  - ES6
  - Object
categories:
  - 前端
author: Shane
img: >-
  https://myimagebed-1302088591.cos.ap-nanjing.myqcloud.com/%E6%96%87%E7%AB%A0%E7%89%B9%E5%BE%81%E5%9B%BE/32.jpg
toc: true
summary: ES6 中对象的增强属性
abbrlink: 8f4924d2
date: 2020-07-19 21:32:30
---

# ES6 对象的增强属性

## 1 key-value 的简写

### 1.1 ES5 中对象 key-value 形式的写法

```javascript
let obj = {
  x: 1,
  y: 2
}
console.log(obj) // {x: 1, y: 2}
```

```javascript
// 当 value 值是变量时，key-value 形式的写法
let x = 1
let y = 2
let obj = {
  x: x,
  y: y
} // 冒号前的 x, y 是对象的 key，冒号后的 x, y 是外面定义的变量，对应的是对象的 value
console.log(obj) // {x: 1, y: 2}
```

### 1.2 ES6 中 key-value 的简写

```javascript
/* ES6 中当对象 value 值是变量，且变量名和 key 相同时，可简写 */
let x = 1
let y = 2
let obj = {
  x,
  y
} // 看上去对象中只写了属性，实际上这里的 x 就是 x: x 的简写形式，y 同理
console.log(obj) // {x: 1, y: 2}
```

## 2 属性名支持变量和表达式

### 2.1 ES5 中对象添加动态属性的方式

```javascript
let x = 1
let y = 2
let z = 3
let obj = {
  'x': x,
  y
} // 这里的属性名 x, y，其实都是字符串
obj[z] = 5 // 对象 obj 添加动态属性 z，属性值为 5
console.log(obj) // {3: 5, x: 1, y: 2}
```

### 2.2 ES6 中对象添加动态属性的方式

```javascript
let x = 1
let y = 2
let z = 3
let obj = {
  'x': x,
  y,
  [z]: 5,
  [x + z]: 7
}
// 这里的属性名 x, y，其实都是字符串；
// 用中括号（[]）将变量或表达式括起来，使该变量的值或该表达式的值成为对象的属性名
console.log(obj) // {3: 5, 4: 7, x: 1, y: 2}
```

## 3 对象属性值为函数时，可简写

### 3.1 ES5 中对象属性值为（常规）函数时的写法

```javascript
let x = 1
let y = 2
let z = 3
let obj = {
  'x': x,
  y,
  [z]: 5,
  [x + z]: 7,
  hello: function () {
    console.log('hello')
  }
}
obj.hello() // hello
```

### 3.2 ES6 中对象属性值为（常规）函数时的简略写法

```javascript
let x = 1
let y = 2
let z = 3
let obj = {
  'x': x,
  y,
  [z]: 5,
  [x + z]: 7,
  hello () { // （常规）函数
    console.log('hello')
  }
}
obj.hello() // hello
```

### 3.3 ES6 中对象属性值为（异步）函数时的简略写法

```javascript
let x = 1
let y = 2
let z = 3
let obj = {
  'x': x,
  y,
  [z]: 5,
  [x + z]: 7,
  * hello () { // （异步）函数
    console.log('hello')
  }
}
obj.hello()
```

上面异步函数的简略写法：

```javascript
* hello () {
    console.log('hello')
}
```

等价于

```javascript
hello: function * hello () {
	console.log('hello')
}
```

> 注：ES5 中是不允许在对象中增加异步函数的，而 ES6 中是允许的

```javascript
// 异步函数示例：
function * functionName () {

}
```

这里只简单提一下异步函数，后面我们再细讲。