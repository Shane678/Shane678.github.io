---
title: ES6 Array 之生成新数组
tags:
  - JavaScript
  - ES6
  - Array
categories:
  - 前端
author: Shane
img: 'https://myimagebed-1302088591.cos.ap-nanjing.myqcloud.com/%E6%96%87%E7%AB%A0%E7%89%B9%E5%BE%81%E5%9B%BE/22.jpg'
toc: true
summary: ES6 中生成新数组
abbrlink: 3b6dd957
date: 2020-07-12 21:55:39
---

## 生成新数组

### ES5

```javascript
// 方法一：使用 Array
var arr1 = Array(5) // 生成一个长度为 5，每个元素为空的数组
// 方法二：使用字面量对象
var arr2 = [] // 未指定长度
var arr3 = ['', ''] // 指定长度为 2，每个元素为空字符串

/* 补充 */
// push() 方法可向数组的末尾添加一个或多个元素，并返回新的长度。
// 说明：push() 方法可把它的参数顺序添加到 arrayObject 的尾部。它直接修改 arrayObject，而不是创建一个新的数组。push() 方法和 pop() 方法使用数组提供的先进后出栈的功能。
arr2.push(1, 2, 'sh')
// pop() 方法用于删除并返回数组的最后一个元素。
// 说明：pop() 方法将删除 arrayObject 的最后一个元素，把数组长度减 1，并且返回它删除的元素的值。如果数组已经为空，则 pop() 不改变数组，并返回 undefined 值。
arr2.pop()
```

### ES6

#### 1. Array.prototype.from

```javascript
// 方法一：使用 Array.from，把伪数组转换为数组，实际上也是生成新数组的方式
let arr1 = Array.from({ length: 3 }, function () { return '' }) // 生成一个长度为 3，每个元素值为空字符串的数组
let arr2 = Array.from({ 0: 1, 1: 'sh', length: 2 }) // 生成一个长度为 2，元素值分别为 1、'sh' 的数组
```

#### 2. Array.prototype.of

```javascript
// 方法二：使用 Array.of，生成一个新数组的同时，赋初值，实现快速地把 n 个元素放到数组中去。
let arr1 = Array.of(1) // arr1：[1]
let arr2 = Array.of(1, 2, "sh") // arr2：[1, 2, "sh"]
```

#### 3. Array.prototype.fill

```javascript
// 方法三：使用 fill() 方法，将一个固定值替换数组的元素。也可以实现为空数组赋值，生成一个元素初始化赋值后的新数组。
/* 
语法：array.fill(value, start, end)
value：必需。填充的值。
start：可选。开始填充位置。
end：可选。停止填充位置 (默认为 array.length)
*/
let arr1 = Array(5).fill(17) // arr1：[17, 17, 17, 17, 17]
let arr2 = [1, 2, 3, 4, 5]
arr2.fill(8, 2, 4)
console.log(arr2) // [1, 2, 8, 8, 5]
```